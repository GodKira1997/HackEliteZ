{% extends 'base.html' %}
{% block content %}
<div id="body-content">
    <div id="uploader-form">
        <form method="post" action="{% url 'formpage' %}" enctype="multipart/form-data">
            {% csrf_token %}
            <h1 style="text-align: center;">Digitizer</h1>
            <br>
            <br>
            <br>
            <br>
            <p style="font-size: 20px;text-align: center;">Choose a Document</p>
            <br>
            <div class="upload-panel">
                <input id="PathInput" class="f-input" />
                <div class="fileUpload btn-browse">
                    <span>Browse</span>
                    <input id="choose-btn" type="file" class="choose" name="imgdoc">
                </div>
                <div id="error"></div>
            </div>
            <br>
            <br>
            <br>
            <br>
            <button id="upload-btn" class="btn" type="submit">Upload</button>

        </form>
    </div>
</div>
<script>
    function checkJpeg() {
        var outputfile = document.getElementById("choose-btn").value.split('.')[0];
        var extension = document.getElementById("choose-btn").value.split('.')[1];
        if (extension == "jpeg" || extension == "jpg" || extension == "png") {
            var tags = document.getElementById("error").childNodes;
            if (tags.length > 0)
                document.getElementById("error").removeChild(tags[0]);
        } else {
            document.getElementById("error").innerHTML = "<p>*File Extension not supported</p>";
        }
    }

    document.getElementById("choose-btn").onchange = function() {
        document.getElementById("PathInput").value = this.value.replace("C:\\fakepath\\", "");
        checkJpeg();
    };

</script>
{% endblock %}    